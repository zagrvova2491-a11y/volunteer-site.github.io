<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-Connect - –ì–ª–∞–≤–Ω–∞—è</title>
        
    <style>
        :root {
            --background-image: url('https://media.istockphoto.com/id/598520904/photo/green-forest-foliage-aerial-view-woodland-tree-canopy-nature-background.jpg?s=612x612&w=0&k=20&c=RcCcRuTBBqnaZ_58Q1o9NGNUxRg-tlPzK_jTjpPIpM4=');
        }
    </style>
    
    <script src="https://maps.googleapis.com/maps/api/js?key=#YOUR_GOOGLE_MAPS_API_KEY#&libraries=places&callback=Function.prototype"></script>
    
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/map.css">
    <link rel="stylesheet" href="styles/dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    <i class="fas fa-leaf"></i>
                    Eco-Connect
                </h1>
                <nav class="nav">
                    <a href="#dashboard" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="#events" class="nav-link">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
                    <a href="#map" class="nav-link">–ö–∞—Ä—Ç–∞</a>
                    <a href="#progress" class="nav-link">–ü—Ä–æ–≥—Ä–µ—Å—Å</a>
                </nav>
                <div class="user-menu-container">
                    <button class="user-menu-btn" id="userMenuBtn">
                        <i class="fas fa-user-circle"></i>
                        <span id="userName">–ê–∫–∫–∞—É–Ω—Ç</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-info">
                            <div class="user-avatar" id="userAvatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-details">
                                <div class="user-fullname" id="userFullName"></div>
                                <div class="user-email" id="userEmail"></div>
                                <div class="user-role" id="userRole"></div>
                            </div>
                        </div>
                        <div class="user-stats">
                            <div class="stat-item" id="statItem1">
                                <i class="fas fa-calendar-check"></i>
                                <span>–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ <strong id="participatedCount">0</strong> –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö</span>
                            </div>
                            <div class="stat-item" id="statItem2">
                                <i class="fas fa-users"></i>
                                <span>–í —Å–∏—Å—Ç–µ–º–µ <strong id="daysInSystem">0</strong> –¥–Ω–µ–π</span>
                            </div>
                            <div class="stat-item" id="curatorStats" style="display: none;">
                                <i class="fas fa-calendar-plus"></i>
                                <span>–°–æ–∑–¥–∞–ª <strong id="createdEventsCount">0</strong> –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</span>
                            </div>
                        </div>
                        <div class="dropdown-actions">
                            <button class="dropdown-item" id="profileBtn">
                                <i class="fas fa-user-edit"></i>
                                –ü—Ä–æ—Ñ–∏–ª—å
                            </button>
                            <button class="dropdown-item" id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i>
                                –í—ã–π—Ç–∏
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <!-- –î–∞—à–±–æ—Ä–¥ —Å –≤—ã–±–æ—Ä–æ–º –¥–µ–π—Å—Ç–≤–∏–π -->
        <section id="dashboard" class="section">
            <div class="container">
                <h2 class="section-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Eco-Connect!</h2>
                <div class="dashboard-grid">
                    <div class="action-card" id="chooseEventCard">
                        <div class="action-card-bg"></div>
                        <div class="action-card-content">
                            <h3><i class="fas fa-list-alt"></i> –í—ã–±—Ä–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</h3>
                            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é</p>
                            <button class="btn btn-primary action-btn" id="chooseEventBtn">
                                –í—ã–±—Ä–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ
                            </button>
                        </div>
                    </div>
                    
                    <div class="action-card" id="quickJoinCard">
                        <div class="action-card-bg"></div>
                        <div class="action-card-content">
                            <h3><i class="fas fa-bolt"></i> –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä–æ</h3>
                            <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –±–ª–∏–∂–∞–π—à–µ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –ø–æ –≤–∞—à–µ–º—É –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é</p>
                            <button class="btn btn-primary action-btn" id="quickJoinBtn">
                                –ë—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) -->
        <section id="events" class="section" style="display: none;">
            <div class="container">
                <div class="events-header">
                    <h2 class="section-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h2>
                    <div class="events-controls">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="eventSearch" placeholder="–ü–æ–∏—Å–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π...">
                        </div>
                        <button class="btn btn-secondary" id="backToDashboardBtn">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É
                        </button>
                    </div>
                </div>
                <div class="events-grid" id="eventsContainer">
                    <!-- –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </section>

        <!-- –ö–∞—Ä—Ç–∞ -->
        <section id="map" class="section section-map">
            <div class="container">
                <h2 class="section-title">–ö–∞—Ä—Ç–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h2>
                <div class="map-container">
                    <div id="mainMap"></div>
                </div>
            </div>
        </section>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
        <section id="progress" class="section">
            <div class="container">
                <h2 class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="progress-stats" id="progressStats">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤) -->
    <button class="fab" id="createEventBtn" style="display: none;">
        <i class="fas fa-plus"></i>
    </button>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Eco-Connect. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è -->
    <div id="createEventModal" class="modal">
        <div class="modal-content large-modal">
            <span class="close" id="closeCreateModal">&times;</span>
            <h3><i class="fas fa-calendar-plus"></i> –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</h3>
            <form id="createEventForm" class="create-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="eventTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è *</label>
                        <input type="text" id="eventTitle" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û—á–∏—Å—Ç–∫–∞ –ª–µ—Å–æ–ø–∞—Ä–∫–∞">
                    </div>
                    <div class="form-group">
                        <label for="eventDate">–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è *</label>
                        <input type="date" id="eventDate" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="eventTime">–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ *</label>
                        <input type="time" id="eventTime" required>
                    </div>
                    <div class="form-group">
                        <label for="eventMaxVolunteers">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ *</label>
                        <input type="number" id="eventMaxVolunteers" min="1" max="1000" value="50" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="eventDescription">–û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è *</label>
                    <textarea id="eventDescription" rows="3" required placeholder="–û–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è..."></textarea>
                </div>

                <div class="form-group">
                    <label>–¢–µ–≥–∏ (–≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ 3)</label>
                    <div class="tags-selector">
                        <label class="tag-option">
                            <input type="checkbox" name="tags" value="–º—É—Å–æ—Ä">
                            <span class="tag-badge">‚ôªÔ∏è –ú—É—Å–æ—Ä</span>
                        </label>
                        <label class="tag-option">
                            <input type="checkbox" name="tags" value="–ª–∏—Å—Ç—å—è">
                            <span class="tag-badge">üçÇ –õ–∏—Å—Ç—å—è</span>
                        </label>
                        <label class="tag-option">
                            <input type="checkbox" name="tags" value="–æ–∑–µ–ª–µ–Ω–µ–Ω–∏–µ">
                            <span class="tag-badge">üå≥ –û–∑–µ–ª–µ–Ω–µ–Ω–∏–µ</span>
                        </label>
                        <label class="tag-option">
                            <input type="checkbox" name="tags" value="–æ–∑–µ—Ä–∞">
                            <span class="tag-badge">üíß –û–∑–µ—Ä–∞</span>
                        </label>
                        <label class="tag-option">
                            <input type="checkbox" name="tags" value="–ø–∞—Ä–∫–∏">
                            <span class="tag-badge">üå≤ –ü–∞—Ä–∫–∏</span>
                        </label>
                        <label class="tag-option">
                            <input type="checkbox" name="tags" value="—Ä–µ–∫–∏">
                            <span class="interest-badge">üåä –†–µ–∫–∏</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>–í—ã–±–æ—Ä –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è</label>
                    <div class="location-options">
                        <div class="location-option">
                            <input type="radio" id="locationTypeMap" name="locationType" value="map" checked>
                            <label for="locationTypeMap" class="location-option-label">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>–£–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</span>
                            </label>
                        </div>
                        <div class="location-option">
                            <input type="radio" id="locationTypeAddress" name="locationType" value="address">
                            <label for="locationTypeAddress" class="location-option-label">
                                <i class="fas fa-search-location"></i>
                                <span>–í–≤–µ—Å—Ç–∏ –∞–¥—Ä–µ—Å</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- –ö–∞—Ä—Ç–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è -->
                <div class="form-group" id="mapLocationGroup">
                    <label>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è *</label>
                    <div class="map-preview-container">
                        <div id="locationMap" class="map-preview"></div>
                        <button type="button" class="btn btn-small" id="openFullMapBtn">
                            <i class="fas fa-expand"></i> –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É
                        </button>
                    </div>
                    <div class="location-info">
                        <div class="selected-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="selectedLocationText">–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</span>
                        </div>
                        <div class="coordinates">
                            <span>–®–∏—Ä–æ—Ç–∞: <span id="latValue">-</span></span>
                            <span>–î–æ–ª–≥–æ—Ç–∞: <span id="lngValue">-</span></span>
                        </div>
                    </div>
                </div>

                <!-- –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ -->
                <div class="form-group" id="addressLocationGroup" style="display: none;">
                    <label for="eventAddress">–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å *</label>
                    <div class="input-with-icon">
                        <i class="fas fa-search-location"></i>
                        <input type="text" id="eventAddress" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∞–¥—Ä–µ—Å...">
                    </div>
                    <div id="addressSuggestions" class="address-suggestions"></div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelCreate">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è -->
    <div id="participantsModal" class="modal">
        <div class="modal-content large-modal">
            <span class="close" id="closeParticipantsModal">&times;</span>
            <h3><i class="fas fa-users"></i> –£—á–∞—Å—Ç–Ω–∏–∫–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h3>
            <div class="participants-header">
                <div class="participants-info">
                    <h4 id="participantsEventTitle"></h4>
                    <p>–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: <span id="totalParticipants">0</span></p>
                </div>
                <div class="participants-controls">
                    <input type="text" id="searchParticipant" placeholder="–ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞..." class="search-input">
                    <button class="btn btn-small" id="exportParticipantsBtn">
                        <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç
                    </button>
                </div>
            </div>
            <div class="participants-table-container">
                <table class="participants-table" id="participantsTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">–§–∞–º–∏–ª–∏—è <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable(1)">–ò–º—è <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable(2)">–û—Ç—á–µ—Å—Ç–≤–æ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable(3)">–¢–µ–ª–µ—Ñ–æ–Ω <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable(4)">Email <i class="fas fa-sort"></i></th>
                            <th>–î–∞—Ç–∞ –∑–∞–ø–∏—Å–∏</th>
                        </tr>
                    </thead>
                    <tbody id="participantsTableBody">
                        <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                    </tbody>
                </table>
            </div>
            <div class="form-actions">
                <button class="btn btn-primary" id="closeParticipantsBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏ -->
    <div id="successModal" class="modal">
        <div class="modal-content success-modal">
            <span class="close" id="closeSuccessModal">&times;</span>
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3>–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ã!</h3>
            <div class="event-details">
                <div class="detail-item">
                    <i class="fas fa-calendar"></i>
                    <div>
                        <div class="detail-label">–î–∞—Ç–∞</div>
                        <div class="detail-value" id="successDate"></div>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-clock"></i>
                    <div>
                        <div class="detail-label">–í—Ä–µ–º—è</div>
                        <div class="detail-value" id="successTime"></div>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <div class="detail-label">–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</div>
                        <div class="detail-value" id="successLocation"></div>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-user"></i>
                    <div>
                        <div class="detail-label">–£—á–∞—Å—Ç–Ω–∏–∫</div>
                        <div class="detail-value" id="successUserName"></div>
                    </div>
                </div>
            </div>
            <div class="success-info">
                <p><i class="fas fa-info-circle"></i> –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –ø–µ—Ä—á–∞—Ç–∫–∏ –∏ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ!</p>
            </div>
            <div class="form-actions">
                <button class="btn btn-primary" id="closeSuccessBtn">–ü–æ–Ω—è—Ç–Ω–æ</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification"></div>

    <!-- JavaScript -->
    <script src="scripts/database.js"></script>
    <script src="scripts/profile.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/map.js"></script>
    <script src="scripts/events.js"></script>
    <script src="scripts/dashboard.js"></script>
    <script src="scripts/algorithm.js"></script>
</body>
</html>